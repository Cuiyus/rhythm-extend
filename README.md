# rhythm-extend
## 序号信息不同步问题
使用Motivation.py启动任务时，会为每个已经启动成功的任务赋予一个启动序号。
由于任务在启动时，没有返回具体的信息，只有启动序号，因此监控线程无法根据启动序号判断任务是否存活。

而要想做到启动序号与任务信息相匹配是十分耗时的，原因主要有以下三个：
1. 任务启动程序与监控程序处在不同的进程中。每次启动任务后，需借助rmi接口获取监控线程捕获到的任务信息。
2. 序号信息匹配通过轮询操作来实现。通过前后对比的方式，获取监控线程所获取到的最新任务信息。
3. 每个任务都具有提交时间。在任务启动后，监控线程无法第一时间获取到任务信息（比如spark任务中的Application-id）

### 探索1
1. Launcher.py解决第一个问题。通过代码整合，消除Rmi远程调用所产生的耗时。(已完成)

但是这次整合并没有显著减少序号信息匹配所带来的巨额耗时。通过函数计时发现，每次序号信息同步主要在获取应用信息的过程中，耗费了较长的时间。

在Cnn以及spark信息的拉取上都耗费了巨额时间。对于cnn我替换了其检索端口与进程号的工具(lsof -> netstat)，但是收效甚微。

这里我能想到的方案：
1. 对CNN与Spark的运行环境进行调优，从根本上解决与容器拉取应用信息过慢的问题
2. 使用进程的方式，让信息匹配留在后台。

由于序号信息的匹配不要求及时性，并且序号信息相匹配是为了判断任务是否存活。因此，采用序号2的方式。









